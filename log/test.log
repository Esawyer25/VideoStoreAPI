  [1m[35m (133.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "VideoStoreAPI_test"[0m
  [1m[35m (488.2ms)[0m  [1m[35mCREATE DATABASE "VideoStoreAPI_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers" CASCADE[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "name" character varying, "registered_at" character varying, "address" character varying, "city" character varying, "state" character varying, "postal_code" character varying, "phone" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "account_credit" float, "movies_checked_out_count" integer DEFAULT 0 NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "movies" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "movies" ("id" bigserial primary key, "title" character varying, "overview" character varying, "release_date" character varying, "inventory" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (26.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20171106220629)[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20171106202253),
(20171106202612),
(20171106203250);

[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2017-11-06 22:48:22.706884"], ["updated_at", "2017-11-06 22:48:22.706884"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.5ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 22:48:23.133950', '2017-11-06 22:48:23.133950', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 22:48:23.133950', '2017-11-06 22:48:23.133950', 298486374)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2017-11-06 22:48:23.142835', '2017-11-06 22:48:23.142835', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2017-11-06 22:48:23.142835', '2017-11-06 22:48:23.142835', 298486374)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
Customer: test_0001_must be valid
---------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
CustomersController::index: test_0001_is a real working route
-------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:48:23 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CustomersController::index: test_0002_should return json
--------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:48:23 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
Movie: test_0001_must be valid
------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 22:50:20.011911', '2017-11-06 22:50:20.011911', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 22:50:20.011911', '2017-11-06 22:50:20.011911', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2017-11-06 22:50:20.021465', '2017-11-06 22:50:20.021465', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2017-11-06 22:50:20.021465', '2017-11-06 22:50:20.021465', 298486374)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
Customer: test_0001_must be valid
---------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
Movie: test_0001_must be valid
------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
CustomersController::index: test_0001_is a real working route
-------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:50:20 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CustomersController::index: test_0002_should return json
--------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:50:20 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
CustomersController::index: test_0003_should return an Array
------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:50:20 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 22:52:51.582782', '2017-11-06 22:52:51.582782', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 22:52:51.582782', '2017-11-06 22:52:51.582782', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2017-11-06 22:52:51.592322', '2017-11-06 22:52:51.592322', 980190962)[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2017-11-06 22:52:51.592322', '2017-11-06 22:52:51.592322', 298486374)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
Customer: test_0001_must be valid
---------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------
Movie: test_0001_must be valid
------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CustomersController::index: test_0002_should return json
--------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:52:51 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
CustomersController::index: test_0003_should return an Array
------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:52:51 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[35m (2.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
CustomersController::index: test_0004_should return all customers
-----------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:52:51 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
CustomersController::index: test_0001_is a real working route
-------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:52:51 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 22:53:05.730107', '2017-11-06 22:53:05.730107', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 22:53:05.730107', '2017-11-06 22:53:05.730107', 298486374)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2017-11-06 22:53:05.744084', '2017-11-06 22:53:05.744084', 980190962)[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2017-11-06 22:53:05.744084', '2017-11-06 22:53:05.744084', 298486374)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
Movie: test_0001_must be valid
------------------------------
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CustomersController::index: test_0002_should return json
--------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:53:05 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 11ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
CustomersController::index: test_0003_should return an Array
------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:53:05 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
CustomersController::index: test_0004_should return all customers
-----------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:53:05 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "customers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
CustomersController::index: test_0001_is a real working route
-------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:53:05 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------
Customer: test_0001_must be valid
---------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 22:56:06.979291', '2017-11-06 22:56:06.979291', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 22:56:06.979291', '2017-11-06 22:56:06.979291', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2017-11-06 22:56:06.986944', '2017-11-06 22:56:06.986944', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2017-11-06 22:56:06.986944', '2017-11-06 22:56:06.986944', 298486374)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
Movie: test_0001_must be valid
------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------
Customer: test_0001_must be valid
---------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
CustomersController::index: test_0005_should return customers with exactly the required data
--------------------------------------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:56:07 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
CustomersController::index: test_0001_is a real working route
-------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:56:07 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
CustomersController::index: test_0004_should return all customers
-----------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:56:07 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "customers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CustomersController::index: test_0002_should return json
--------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:56:07 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
CustomersController::index: test_0003_should return an Array
------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:56:07 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 22:57:21.766673', '2017-11-06 22:57:21.766673', 980190962)[0m
  [1m[36mFixture Insert (1.0ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 22:57:21.766673', '2017-11-06 22:57:21.766673', 298486374)[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2017-11-06 22:57:21.785118', '2017-11-06 22:57:21.785118', 980190962)[0m
  [1m[36mFixture Insert (0.8ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2017-11-06 22:57:21.785118', '2017-11-06 22:57:21.785118', 298486374)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------
Customer: test_0001_must be valid
---------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
CustomersController::index: test_0005_should return customers with exactly the required data
--------------------------------------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:57:21 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
CustomersController::index: test_0001_is a real working route
-------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:57:21 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CustomersController::index: test_0002_should return json
--------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:57:21 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
CustomersController::index: test_0004_should return all customers
-----------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:57:21 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 5ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "customers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
CustomersController::index: test_0003_should return an Array
------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:57:21 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
Movie: test_0001_must be valid
------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 22:59:02.474303', '2017-11-06 22:59:02.474303', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 22:59:02.474303', '2017-11-06 22:59:02.474303', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2017-11-06 22:59:02.486649', '2017-11-06 22:59:02.486649', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2017-11-06 22:59:02.486649', '2017-11-06 22:59:02.486649', 298486374)[0m
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
Movie: test_0001_must be valid
------------------------------
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
CustomersController::index: test_0004_should return all customers
-----------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:59:02 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 22ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "customers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CustomersController::index: test_0002_should return json
--------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:59:02 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
CustomersController::index: test_0005_should return customers with exactly the required data
--------------------------------------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:59:02 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
CustomersController::index: test_0003_should return an Array
------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:59:02 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
CustomersController::index: test_0001_is a real working route
-------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 14:59:02 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (2.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 2.2ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------
Customer: test_0001_must be valid
---------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (141.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "VideoStoreAPI_test"[0m
  [1m[35m (560.1ms)[0m  [1m[35mCREATE DATABASE "VideoStoreAPI_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers" CASCADE[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "name" character varying, "registered_at" character varying, "address" character varying, "city" character varying, "state" character varying, "postal_code" character varying, "phone" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "account_credit" float, "movies_checked_out_count" integer DEFAULT 0 NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "movies" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "movies" ("id" bigserial primary key, "title" character varying, "overview" character varying, "release_date" character varying, "inventory" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "available_inventory" integer)[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20171106232634)[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20171106202253),
(20171106202612),
(20171106203250),
(20171106220629);

[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2017-11-06 23:38:37.061943"], ["updated_at", "2017-11-06 23:38:37.061943"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (6.8ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 23:39:13.033762', '2017-11-06 23:39:13.033762', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 23:39:13.033762', '2017-11-06 23:39:13.033762', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, '2017-11-06 23:39:13.051185', '2017-11-06 23:39:13.051185', 287487352)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('An insatiable great white shark terrorizes the townspeople of Amity Island, The police chief, an oceanographer and a grizzled shark hunter seek to destroy the bloodthirsty beast', '1975-06-19', 6, '2017-11-06 23:39:13.051185', '2017-11-06 23:39:13.051185', 898238949)[0m
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
Movie: test_0001_must be valid
------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
MoviesController::show: test_0002_responds correctly when movie is not found
----------------------------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" ORDER BY "movies"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/movies/898238950" for 127.0.0.1 at 2017-11-06 15:39:13 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238950"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238950], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
MoviesController::show: test_0001_can get a specific movie
----------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Started GET "/movies/898238949" for 127.0.0.1 at 2017-11-06 15:39:13 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238949"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
CustomersController::index: test_0003_should return an Array
------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:39:13 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 13ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
CustomersController::index: test_0004_should return all customers
-----------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:39:13 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "customers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
CustomersController::index: test_0005_should return customers with exactly the required data
--------------------------------------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:39:13 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
CustomersController::index: test_0001_is a real working route
-------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:39:13 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (2.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CustomersController::index: test_0002_should return json
--------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:39:13 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
Customer: test_0001_must be valid
---------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
MoviesController::create: test_0001_should create a movie
---------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
Started POST "/movies" for 127.0.0.1 at 2017-11-06 15:39:13 -0800
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
MoviesController::index: test_0002_should return json
-----------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:39:13 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
MoviesController::index: test_0003_should return an Array
---------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:39:13 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
MoviesController::index: test_0005_should return movies with exactly the required data
--------------------------------------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:39:13 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
MoviesController::index: test_0001_is a real working route
----------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:39:13 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
MoviesController::index: test_0004_should return all movies
-----------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:39:13 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 23:42:21.434145', '2017-11-06 23:42:21.434145', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 23:42:21.434145', '2017-11-06 23:42:21.434145', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, '2017-11-06 23:42:21.443133', '2017-11-06 23:42:21.443133', 287487352)[0m
  [1m[36mFixture Insert (5.4ms)[0m  [1m[32mINSERT INTO "movies" ("overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('An insatiable great white shark terrorizes the townspeople of Amity Island, The police chief, an oceanographer and a grizzled shark hunter seek to destroy the bloodthirsty beast', '1975-06-19', 6, '2017-11-06 23:42:21.443133', '2017-11-06 23:42:21.443133', 898238949)[0m
  [1m[35m (5.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
CustomersController::index: test_0004_should return all customers
-----------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:42:21 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 16ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "customers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CustomersController::index: test_0002_should return json
--------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:42:21 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
CustomersController::index: test_0005_should return customers with exactly the required data
--------------------------------------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:42:21 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
CustomersController::index: test_0001_is a real working route
-------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:42:21 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
CustomersController::index: test_0003_should return an Array
------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:42:21 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
MoviesController::index: test_0001_is a real working route
----------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:42:21 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
MoviesController::index: test_0002_should return json
-----------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:42:21 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
MoviesController::index: test_0004_should return all movies
-----------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:42:21 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (1.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
MoviesController::index: test_0005_should return movies with exactly the required data
--------------------------------------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:42:21 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.7ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
MoviesController::index: test_0003_should return an Array
---------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:42:21 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
Movie: test_0001_must be valid
------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
MoviesController::create: test_0001_should create a movie
---------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
Started POST "/movies" for 127.0.0.1 at 2017-11-06 15:42:21 -0800
Processing by MoviesController#create as HTML
  Parameters: {"movie"=>{"title"=>"movie title", "release_data"=>"1979", "inventory"=>"10"}}
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
Customer: test_0001_must be valid
---------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
MoviesController::show: test_0001_can get a specific movie
----------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Started GET "/movies/898238949" for 127.0.0.1 at 2017-11-06 15:42:21 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238949"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
MoviesController::show: test_0002_responds correctly when movie is not found
----------------------------------------------------------------------------
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" ORDER BY "movies"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/movies/898238950" for 127.0.0.1 at 2017-11-06 15:42:21 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238950"}
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238950], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 23:46:55.503277', '2017-11-06 23:46:55.503277', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 23:46:55.503277', '2017-11-06 23:46:55.503277', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, '2017-11-06 23:46:55.510810', '2017-11-06 23:46:55.510810', 287487352)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('An insatiable great white shark terrorizes the townspeople of Amity Island, The police chief, an oceanographer and a grizzled shark hunter seek to destroy the bloodthirsty beast', '1975-06-19', 6, '2017-11-06 23:46:55.510810', '2017-11-06 23:46:55.510810', 898238949)[0m
  [1m[35m (11.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
MoviesController::index: test_0002_should return json
-----------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:46:55 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 11ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
MoviesController::index: test_0005_should return movies with exactly the required data
--------------------------------------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:46:55 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
MoviesController::index: test_0004_should return all movies
-----------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:46:55 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
MoviesController::index: test_0001_is a real working route
----------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:46:55 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
MoviesController::index: test_0003_should return an Array
---------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:46:55 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
CustomersController::index: test_0001_is a real working route
-------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:46:55 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
CustomersController::index: test_0004_should return all customers
-----------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:46:55 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "customers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
CustomersController::index: test_0005_should return customers with exactly the required data
--------------------------------------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:46:55 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CustomersController::index: test_0002_should return json
--------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:46:55 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
CustomersController::index: test_0003_should return an Array
------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:46:55 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
Movie: test_0001_must be valid
------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
MoviesController::show: test_0001_can get a specific movie
----------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Started GET "/movies/898238949" for 127.0.0.1 at 2017-11-06 15:46:55 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238949"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
MoviesController::show: test_0002_responds correctly when movie is not found
----------------------------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" ORDER BY "movies"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/movies/898238950" for 127.0.0.1 at 2017-11-06 15:46:55 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238950"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238950], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
MoviesController::create: test_0001_should create a movie
---------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
Started POST "/movies" for 127.0.0.1 at 2017-11-06 15:46:55 -0800
Processing by MoviesController#create as HTML
  Parameters: {"movie"=>{"title"=>"movie title", "release_data"=>"1979", "inventory"=>"10"}}
Unpermitted parameter: :release_data
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (5.6ms)[0m  [1m[32mINSERT INTO "movies" ("title", "inventory", "created_at", "updated_at", "available_inventory") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "movie title"], ["inventory", 10], ["created_at", "2017-11-06 23:46:55.631752"], ["updated_at", "2017-11-06 23:46:55.631752"], ["available_inventory", 10]]
  [1m[35m (1.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 7.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------
Customer: test_0001_must be valid
---------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 23:50:46.265339', '2017-11-06 23:50:46.265339', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 23:50:46.265339', '2017-11-06 23:50:46.265339', 298486374)[0m
  [1m[36mFixture Delete (5.9ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, '2017-11-06 23:50:46.274324', '2017-11-06 23:50:46.274324', 287487352)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('An insatiable great white shark terrorizes the townspeople of Amity Island, The police chief, an oceanographer and a grizzled shark hunter seek to destroy the bloodthirsty beast', '1975-06-19', 6, '2017-11-06 23:50:46.274324', '2017-11-06 23:50:46.274324', 898238949)[0m
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
MoviesController::create: test_0001_should create a movie
---------------------------------------------------------
  [1m[35m (2.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
Started POST "/movies" for 127.0.0.1 at 2017-11-06 15:50:46 -0800
Processing by MoviesController#create as HTML
  Parameters: {"movie"=>{"title"=>"movie title", "release_data"=>"1979", "inventory"=>"10"}}
Unpermitted parameter: :release_data
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "inventory", "created_at", "updated_at", "available_inventory") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "movie title"], ["inventory", 10], ["created_at", "2017-11-06 23:50:46.316522"], ["updated_at", "2017-11-06 23:50:46.316522"], ["available_inventory", 10]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 12ms (Views: 0.3ms | ActiveRecord: 0.9ms)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------
MoviesController::create: test_0002_should not change the database if the title is missing
------------------------------------------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
Started POST "/movies" for 127.0.0.1 at 2017-11-06 15:50:46 -0800
Processing by MoviesController#create as HTML
  Parameters: {"movie"=>{"release_data"=>"1979", "inventory"=>"10"}}
Unpermitted parameter: :release_data
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("inventory", "created_at", "updated_at", "available_inventory") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory", 10], ["created_at", "2017-11-06 23:50:46.333357"], ["updated_at", "2017-11-06 23:50:46.333357"], ["available_inventory", 10]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CustomersController::index: test_0002_should return json
--------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:50:46 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 11ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
CustomersController::index: test_0001_is a real working route
-------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:50:46 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
CustomersController::index: test_0005_should return customers with exactly the required data
--------------------------------------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:50:46 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
CustomersController::index: test_0003_should return an Array
------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:50:46 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (2.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
CustomersController::index: test_0004_should return all customers
-----------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:50:46 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "customers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
Customer: test_0001_must be valid
---------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
MoviesController::show: test_0001_can get a specific movie
----------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Started GET "/movies/898238949" for 127.0.0.1 at 2017-11-06 15:50:46 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238949"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
MoviesController::show: test_0002_responds correctly when movie is not found
----------------------------------------------------------------------------
  [1m[36mMovie Load (0.7ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" ORDER BY "movies"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/movies/898238950" for 127.0.0.1 at 2017-11-06 15:50:46 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238950"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238950], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
Movie: test_0001_must be valid
------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
MoviesController::index: test_0004_should return all movies
-----------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:50:46 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
MoviesController::index: test_0001_is a real working route
----------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:50:46 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
MoviesController::index: test_0002_should return json
-----------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:50:46 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
MoviesController::index: test_0003_should return an Array
---------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:50:46 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (1.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
MoviesController::index: test_0005_should return movies with exactly the required data
--------------------------------------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:50:46 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 23:52:26.317813', '2017-11-06 23:52:26.317813', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 23:52:26.317813', '2017-11-06 23:52:26.317813', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, '2017-11-06 23:52:26.327727', '2017-11-06 23:52:26.327727', 287487352)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('An insatiable great white shark terrorizes the townspeople of Amity Island, The police chief, an oceanographer and a grizzled shark hunter seek to destroy the bloodthirsty beast', '1975-06-19', 6, '2017-11-06 23:52:26.327727', '2017-11-06 23:52:26.327727', 898238949)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
Customer: test_0001_must be valid
---------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------
MoviesController::create: test_0002_should not change the database if the title is missing
------------------------------------------------------------------------------------------
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
Started POST "/movies" for 127.0.0.1 at 2017-11-06 15:52:26 -0800
Processing by MoviesController#create as HTML
  Parameters: {"movie"=>{"release_data"=>"1979", "inventory"=>"10"}}
Unpermitted parameter: :release_data
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (6.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 23ms (Views: 0.4ms | ActiveRecord: 6.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
MoviesController::create: test_0001_should create a movie
---------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
Started POST "/movies" for 127.0.0.1 at 2017-11-06 15:52:26 -0800
Processing by MoviesController#create as HTML
  Parameters: {"movie"=>{"title"=>"movie title", "release_data"=>"1979", "inventory"=>"10"}}
Unpermitted parameter: :release_data
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("title", "inventory", "created_at", "updated_at", "available_inventory") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "movie title"], ["inventory", 10], ["created_at", "2017-11-06 23:52:26.397256"], ["updated_at", "2017-11-06 23:52:26.397256"], ["available_inventory", 10]]
  [1m[35m (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 1.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
Movie: test_0001_must be valid
------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
MoviesController::index: test_0003_should return an Array
---------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:52:26 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
MoviesController::index: test_0001_is a real working route
----------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:52:26 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
MoviesController::index: test_0004_should return all movies
-----------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:52:26 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
MoviesController::index: test_0002_should return json
-----------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:52:26 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
MoviesController::index: test_0005_should return movies with exactly the required data
--------------------------------------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:52:26 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
MoviesController::show: test_0001_can get a specific movie
----------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Started GET "/movies/898238949" for 127.0.0.1 at 2017-11-06 15:52:26 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238949"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
MoviesController::show: test_0002_responds correctly when movie is not found
----------------------------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" ORDER BY "movies"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/movies/898238950" for 127.0.0.1 at 2017-11-06 15:52:26 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238950"}
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238950], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (6.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
CustomersController::index: test_0001_is a real working route
-------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:52:26 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CustomersController::index: test_0002_should return json
--------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:52:26 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
CustomersController::index: test_0003_should return an Array
------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:52:26 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
CustomersController::index: test_0005_should return customers with exactly the required data
--------------------------------------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:52:26 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (3.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 11ms (Views: 1.6ms | ActiveRecord: 3.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (5.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
CustomersController::index: test_0004_should return all customers
-----------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:52:26 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (2.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 12ms (Views: 0.3ms | ActiveRecord: 2.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "customers"[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 23:53:35.710137', '2017-11-06 23:53:35.710137', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-06 23:53:35.710137', '2017-11-06 23:53:35.710137', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, '2017-11-06 23:53:35.718084', '2017-11-06 23:53:35.718084', 287487352)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('An insatiable great white shark terrorizes the townspeople of Amity Island, The police chief, an oceanographer and a grizzled shark hunter seek to destroy the bloodthirsty beast', '1975-06-19', 6, '2017-11-06 23:53:35.718084', '2017-11-06 23:53:35.718084', 898238949)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
MoviesController::show: test_0001_can get a specific movie
----------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Started GET "/movies/898238949" for 127.0.0.1 at 2017-11-06 15:53:35 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238949"}
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
MoviesController::show: test_0002_responds correctly when movie is not found
----------------------------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" ORDER BY "movies"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/movies/898238950" for 127.0.0.1 at 2017-11-06 15:53:35 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238950"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238950], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
MoviesController::create: test_0001_should create a movie
---------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
Started POST "/movies" for 127.0.0.1 at 2017-11-06 15:53:35 -0800
Processing by MoviesController#create as HTML
  Parameters: {"movie"=>{"title"=>"movie title", "release_data"=>"1979", "inventory"=>"10"}}
Unpermitted parameter: :release_data
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("title", "inventory", "created_at", "updated_at", "available_inventory") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "movie title"], ["inventory", 10], ["created_at", "2017-11-06 23:53:35.765828"], ["updated_at", "2017-11-06 23:53:35.765828"], ["available_inventory", 10]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------
MoviesController::create: test_0002_should not change the database if the title is missing
------------------------------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
Started POST "/movies" for 127.0.0.1 at 2017-11-06 15:53:35 -0800
Processing by MoviesController#create as HTML
  Parameters: {"movie"=>{"release_data"=>"1979", "inventory"=>"10"}}
Unpermitted parameter: :release_data
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 8ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
MoviesController::index: test_0004_should return all movies
-----------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:53:35 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
MoviesController::index: test_0001_is a real working route
----------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:53:35 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (4.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 4.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
MoviesController::index: test_0002_should return json
-----------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:53:35 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
MoviesController::index: test_0003_should return an Array
---------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:53:35 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
MoviesController::index: test_0005_should return movies with exactly the required data
--------------------------------------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-06 15:53:35 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
Customer: test_0001_must be valid
---------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
CustomersController::index: test_0003_should return an Array
------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:53:35 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
CustomersController::index: test_0005_should return customers with exactly the required data
--------------------------------------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:53:35 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
CustomersController::index: test_0001_is a real working route
-------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:53:35 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms)
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.9ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CustomersController::index: test_0002_should return json
--------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:53:35 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
CustomersController::index: test_0004_should return all customers
-----------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-06 15:53:35 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "customers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (191.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "VideoStoreAPI_test"[0m
  [1m[35m (414.8ms)[0m  [1m[35mCREATE DATABASE "VideoStoreAPI_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers" CASCADE[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "name" character varying, "registered_at" character varying, "address" character varying, "city" character varying, "state" character varying, "postal_code" character varying, "phone" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "account_credit" float, "movies_checked_out_count" integer DEFAULT 0 NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "movies" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "movies" ("id" bigserial primary key, "title" character varying, "overview" character varying, "release_date" character varying, "inventory" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "available_inventory" integer)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20171106232634)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20171106202253),
(20171106202612),
(20171106203250),
(20171106220629);

[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2017-11-07 00:13:37.447720"], ["updated_at", "2017-11-07 00:13:37.447720"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (21.8ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (12.8ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-07 17:34:17.908978', '2017-11-07 17:34:17.908978', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-07 17:34:17.908978', '2017-11-07 17:34:17.908978', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, '2017-11-07 17:34:17.937432', '2017-11-07 17:34:17.937432', 287487352)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, '2017-11-07 17:34:17.937432', '2017-11-07 17:34:17.937432', 898238949)[0m
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
MoviesController::show: test_0003_returns the right information
---------------------------------------------------------------
  [1m[36mMovie Load (5.9ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Started GET "/movies/898238949" for 127.0.0.1 at 2017-11-07 09:34:17 -0800
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
MoviesController::show: test_0001_can get a specific movie
----------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Started GET "/movies/898238949" for 127.0.0.1 at 2017-11-07 09:34:17 -0800
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
MoviesController::show: test_0002_responds correctly when movie is not found
----------------------------------------------------------------------------
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" ORDER BY "movies"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/movies/898238950" for 127.0.0.1 at 2017-11-07 09:34:17 -0800
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
MoviesController::index: test_0002_should return json
-----------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 09:34:17 -0800
Processing by MoviesController#index as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
MoviesController::index: test_0003_should return an Array
---------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 09:34:17 -0800
Processing by MoviesController#index as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
MoviesController::index: test_0004_should return all movies
-----------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 09:34:17 -0800
Processing by MoviesController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
MoviesController::index: test_0006_returns an empty array if there are no movies
--------------------------------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "movies" WHERE "movies"."id" = $1[0m  [["id", 287487352]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "movies" WHERE "movies"."id" = $1[0m  [["id", 898238949]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/movies" for 127.0.0.1 at 2017-11-07 09:34:17 -0800
Processing by MoviesController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
MoviesController::index: test_0005_should return movies with exactly the required data
--------------------------------------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 09:34:18 -0800
Processing by MoviesController#index as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
MoviesController::index: test_0001_is a real working route
----------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 09:34:18 -0800
Processing by MoviesController#index as HTML
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
Customer: test_0001_must be valid
---------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
CustomersController::index: test_0003_should return an Array
------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 09:34:18 -0800
Processing by CustomersController#index as HTML
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
CustomersController::index: test_0004_should return all customers
-----------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 09:34:18 -0800
Processing by CustomersController#index as HTML
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
CustomersController::index: test_0005_should return customers with exactly the required data
--------------------------------------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 09:34:18 -0800
Processing by CustomersController#index as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
CustomersController::index: test_0006_returns an empty array if there are no customer
-------------------------------------------------------------------------------------
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/customers" for 127.0.0.1 at 2017-11-07 09:34:18 -0800
Processing by CustomersController#index as HTML
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CustomersController::index: test_0002_should return json
--------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 09:34:18 -0800
Processing by CustomersController#index as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
CustomersController::index: test_0001_is a real working route
-------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 09:34:18 -0800
Processing by CustomersController#index as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------
MoviesController::create: test_0002_should not change the database if the title is missing
------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
Started POST "/movies" for 127.0.0.1 at 2017-11-07 09:34:18 -0800
Processing by MoviesController#create as HTML
  Parameters: {"movie"=>{"release_data"=>"1979", "inventory"=>"10"}}
Unpermitted parameter: :release_data
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 400 Bad Request in 9ms (Views: 3.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
MoviesController::create: test_0001_should create a movie
---------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
Started POST "/movies" for 127.0.0.1 at 2017-11-07 09:34:18 -0800
Processing by MoviesController#create as HTML
  Parameters: {"movie"=>{"title"=>"movie title", "release_data"=>"1979", "inventory"=>"10"}}
Unpermitted parameter: :release_data
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "movies" ("title", "inventory", "created_at", "updated_at", "available_inventory") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "movie title"], ["inventory", 10], ["created_at", "2017-11-07 17:34:18.102118"], ["updated_at", "2017-11-07 17:34:18.102118"], ["available_inventory", 10]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-07 17:49:42.973125', '2017-11-07 17:49:42.973125', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-07 17:49:42.973125', '2017-11-07 17:49:42.973125', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, '2017-11-07 17:49:42.981189', '2017-11-07 17:49:42.981189', 287487352)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, '2017-11-07 17:49:42.981189', '2017-11-07 17:49:42.981189', 898238949)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
Movie::validations: test_0001_should be valid
---------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-07 17:51:05.102231', '2017-11-07 17:51:05.102231', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-07 17:51:05.102231', '2017-11-07 17:51:05.102231', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, '2017-11-07 17:51:05.110702', '2017-11-07 17:51:05.110702', 287487352)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, '2017-11-07 17:51:05.110702', '2017-11-07 17:51:05.110702', 898238949)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
Movie::validations: test_0001_should be valid
---------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
Movie::validations: test_0002_should not be valid without a title
-----------------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-07 17:51:19.167738', '2017-11-07 17:51:19.167738', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-07 17:51:19.167738', '2017-11-07 17:51:19.167738', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, '2017-11-07 17:51:19.176427', '2017-11-07 17:51:19.176427', 287487352)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, '2017-11-07 17:51:19.176427', '2017-11-07 17:51:19.176427', 898238949)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
Movie::validations: test_0001_should be valid
---------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
Movie::validations: test_0002_should not be valid without a title
-----------------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-07 18:42:14.979930', '2017-11-07 18:42:14.979930', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-07 18:42:14.979930', '2017-11-07 18:42:14.979930', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 18:42:14.996266', '2017-11-07 18:42:14.996266', 287487352)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 18:42:14.996266', '2017-11-07 18:42:14.996266', 898238949)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------
MoviesController::create: test_0002_should not change the database if the title is missing
------------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
Started POST "/movies" for 127.0.0.1 at 2017-11-07 10:42:15 -0800
Processing by MoviesController#create as HTML
  Parameters: {"movie"=>{"release_data"=>"1979", "inventory"=>"10"}}
Unpermitted parameter: :release_data
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 400 Bad Request in 16ms (Views: 3.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
MoviesController::create: test_0001_should create a movie
---------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
Started POST "/movies" for 127.0.0.1 at 2017-11-07 10:42:15 -0800
Processing by MoviesController#create as HTML
  Parameters: {"movie"=>{"title"=>"movie title", "release_data"=>"1979", "inventory"=>"10"}}
Unpermitted parameter: :release_data
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("title", "inventory", "created_at", "updated_at", "available_inventory") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "movie title"], ["inventory", 10], ["created_at", "2017-11-07 18:42:15.042905"], ["updated_at", "2017-11-07 18:42:15.042905"], ["available_inventory", 10]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
CustomersController::index: test_0001_is a real working route
-------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 10:42:15 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
No serializer found for resource: #<Customer id: 980190962, name: "MyString", registered_at: "MyString", address: "MyString", city: "MyString", state: "MyString", postal_code: "MyString", phone: "MyString", created_at: "2017-11-07 18:42:14", updated_at: "2017-11-07 18:42:14", account_credit: nil, movies_checked_out_count: 0>
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Customer::ActiveRecord_Relation (4.88ms)
Completed 200 OK in 23ms (Views: 22.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
CustomersController::index: test_0005_should return customers with exactly the required data
--------------------------------------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 10:42:15 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
No serializer found for resource: #<Customer id: 980190962, name: "MyString", registered_at: "MyString", address: "MyString", city: "MyString", state: "MyString", postal_code: "MyString", phone: "MyString", created_at: "2017-11-07 18:42:14", updated_at: "2017-11-07 18:42:14", account_credit: nil, movies_checked_out_count: 0>
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Customer::ActiveRecord_Relation (0.59ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
CustomersController::index: test_0006_returns an empty array if there are no customer
-------------------------------------------------------------------------------------
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/customers" for 127.0.0.1 at 2017-11-07 10:42:15 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.24ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CustomersController::index: test_0002_should return json
--------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 10:42:15 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
No serializer found for resource: #<Customer id: 980190962, name: "MyString", registered_at: "MyString", address: "MyString", city: "MyString", state: "MyString", postal_code: "MyString", phone: "MyString", created_at: "2017-11-07 18:42:14", updated_at: "2017-11-07 18:42:14", account_credit: nil, movies_checked_out_count: 0>
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Customer::ActiveRecord_Relation (1.01ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
CustomersController::index: test_0003_should return an Array
------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 10:42:15 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
No serializer found for resource: #<Customer id: 980190962, name: "MyString", registered_at: "MyString", address: "MyString", city: "MyString", state: "MyString", postal_code: "MyString", phone: "MyString", created_at: "2017-11-07 18:42:14", updated_at: "2017-11-07 18:42:14", account_credit: nil, movies_checked_out_count: 0>
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Customer::ActiveRecord_Relation (0.61ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
CustomersController::index: test_0004_should return all customers
-----------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 10:42:15 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
No serializer found for resource: #<Customer id: 980190962, name: "MyString", registered_at: "MyString", address: "MyString", city: "MyString", state: "MyString", postal_code: "MyString", phone: "MyString", created_at: "2017-11-07 18:42:14", updated_at: "2017-11-07 18:42:14", account_credit: nil, movies_checked_out_count: 0>
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Customer::ActiveRecord_Relation (0.66ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "customers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
Movie::validations: test_0001_should be valid
---------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
Movie::validations: test_0002_should not be valid without a title
-----------------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
MoviesController::index: test_0002_should return json
-----------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 10:42:15 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
No serializer found for resource: #<Movie id: 287487352, title: "Psych", overview: "When larcenous real estate clerk Marion Crane goes...", release_date: "1960-06-16", inventory: 8, created_at: "2017-11-07 18:42:14", updated_at: "2017-11-07 18:42:14", available_inventory: 8>
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Movie::ActiveRecord_Relation (1.0ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
MoviesController::index: test_0004_should return all movies
-----------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 10:42:15 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
No serializer found for resource: #<Movie id: 287487352, title: "Psych", overview: "When larcenous real estate clerk Marion Crane goes...", release_date: "1960-06-16", inventory: 8, created_at: "2017-11-07 18:42:14", updated_at: "2017-11-07 18:42:14", available_inventory: 8>
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Movie::ActiveRecord_Relation (0.68ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
MoviesController::index: test_0006_returns an empty array if there are no movies
--------------------------------------------------------------------------------
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "movies" WHERE "movies"."id" = $1[0m  [["id", 287487352]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "movies" WHERE "movies"."id" = $1[0m  [["id", 898238949]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/movies" for 127.0.0.1 at 2017-11-07 10:42:15 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.08ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
MoviesController::index: test_0001_is a real working route
----------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 10:42:15 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
No serializer found for resource: #<Movie id: 287487352, title: "Psych", overview: "When larcenous real estate clerk Marion Crane goes...", release_date: "1960-06-16", inventory: 8, created_at: "2017-11-07 18:42:14", updated_at: "2017-11-07 18:42:14", available_inventory: 8>
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Movie::ActiveRecord_Relation (0.55ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
MoviesController::index: test_0003_should return an Array
---------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 10:42:15 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
No serializer found for resource: #<Movie id: 287487352, title: "Psych", overview: "When larcenous real estate clerk Marion Crane goes...", release_date: "1960-06-16", inventory: 8, created_at: "2017-11-07 18:42:14", updated_at: "2017-11-07 18:42:14", available_inventory: 8>
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Movie::ActiveRecord_Relation (0.56ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
MoviesController::index: test_0005_should return movies with exactly the required data
--------------------------------------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 10:42:15 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
No serializer found for resource: #<Movie id: 287487352, title: "Psych", overview: "When larcenous real estate clerk Marion Crane goes...", release_date: "1960-06-16", inventory: 8, created_at: "2017-11-07 18:42:14", updated_at: "2017-11-07 18:42:14", available_inventory: 8>
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Movie::ActiveRecord_Relation (0.62ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
Customer: test_0001_must be valid
---------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
MoviesController::show: test_0003_returns the right information
---------------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Started GET "/movies/898238949" for 127.0.0.1 at 2017-11-07 10:42:15 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238949"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
MoviesController::show: test_0001_can get a specific movie
----------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Started GET "/movies/898238949" for 127.0.0.1 at 2017-11-07 10:42:15 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238949"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
MoviesController::show: test_0002_responds correctly when movie is not found
----------------------------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" ORDER BY "movies"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/movies/898238950" for 127.0.0.1 at 2017-11-07 10:42:15 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238950"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238950], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 404 Not Found in 1ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-07 18:44:09.475933', '2017-11-07 18:44:09.475933', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-07 18:44:09.475933', '2017-11-07 18:44:09.475933', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 18:44:09.483901', '2017-11-07 18:44:09.483901', 287487352)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 18:44:09.483901', '2017-11-07 18:44:09.483901', 898238949)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
Customer: test_0001_must be valid
---------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
MoviesController::index: test_0004_should return all movies
-----------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 10:44:09 -0800
Processing by MoviesController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
MoviesController::index: test_0003_should return an Array
---------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 10:44:09 -0800
Processing by MoviesController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
MoviesController::index: test_0001_is a real working route
----------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 10:44:09 -0800
Processing by MoviesController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
MoviesController::index: test_0002_should return json
-----------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 10:44:09 -0800
Processing by MoviesController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
MoviesController::index: test_0005_should return movies with exactly the required data
--------------------------------------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 10:44:09 -0800
Processing by MoviesController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
MoviesController::index: test_0006_returns an empty array if there are no movies
--------------------------------------------------------------------------------
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[31mDELETE FROM "movies" WHERE "movies"."id" = $1[0m  [["id", 287487352]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "movies" WHERE "movies"."id" = $1[0m  [["id", 898238949]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/movies" for 127.0.0.1 at 2017-11-07 10:44:09 -0800
Processing by MoviesController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
CustomersController::index: test_0003_should return an Array
------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 10:44:09 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
No serializer found for resource: #<Customer id: 980190962, name: "MyString", registered_at: "MyString", address: "MyString", city: "MyString", state: "MyString", postal_code: "MyString", phone: "MyString", created_at: "2017-11-07 18:44:09", updated_at: "2017-11-07 18:44:09", account_credit: nil, movies_checked_out_count: 0>
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Customer::ActiveRecord_Relation (0.74ms)
Completed 200 OK in 13ms (Views: 12.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CustomersController::index: test_0002_should return json
--------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 10:44:09 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
No serializer found for resource: #<Customer id: 980190962, name: "MyString", registered_at: "MyString", address: "MyString", city: "MyString", state: "MyString", postal_code: "MyString", phone: "MyString", created_at: "2017-11-07 18:44:09", updated_at: "2017-11-07 18:44:09", account_credit: nil, movies_checked_out_count: 0>
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Customer::ActiveRecord_Relation (0.54ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
CustomersController::index: test_0005_should return customers with exactly the required data
--------------------------------------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 10:44:09 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
No serializer found for resource: #<Customer id: 980190962, name: "MyString", registered_at: "MyString", address: "MyString", city: "MyString", state: "MyString", postal_code: "MyString", phone: "MyString", created_at: "2017-11-07 18:44:09", updated_at: "2017-11-07 18:44:09", account_credit: nil, movies_checked_out_count: 0>
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Customer::ActiveRecord_Relation (0.53ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
CustomersController::index: test_0006_returns an empty array if there are no customer
-------------------------------------------------------------------------------------
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/customers" for 127.0.0.1 at 2017-11-07 10:44:09 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.15ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
CustomersController::index: test_0001_is a real working route
-------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 10:44:09 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
No serializer found for resource: #<Customer id: 980190962, name: "MyString", registered_at: "MyString", address: "MyString", city: "MyString", state: "MyString", postal_code: "MyString", phone: "MyString", created_at: "2017-11-07 18:44:09", updated_at: "2017-11-07 18:44:09", account_credit: nil, movies_checked_out_count: 0>
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Customer::ActiveRecord_Relation (0.72ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
CustomersController::index: test_0004_should return all customers
-----------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 10:44:09 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
No serializer found for resource: #<Customer id: 980190962, name: "MyString", registered_at: "MyString", address: "MyString", city: "MyString", state: "MyString", postal_code: "MyString", phone: "MyString", created_at: "2017-11-07 18:44:09", updated_at: "2017-11-07 18:44:09", account_credit: nil, movies_checked_out_count: 0>
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Customer::ActiveRecord_Relation (0.73ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "customers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
Movie::validations: test_0002_should not be valid without a title
-----------------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
Movie::validations: test_0001_should be valid
---------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
MoviesController::create: test_0001_should create a movie
---------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
Started POST "/movies" for 127.0.0.1 at 2017-11-07 10:44:09 -0800
Processing by MoviesController#create as HTML
  Parameters: {"movie"=>{"title"=>"movie title", "release_data"=>"1979", "inventory"=>"10"}}
Unpermitted parameter: :release_data
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("title", "inventory", "created_at", "updated_at", "available_inventory") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "movie title"], ["inventory", 10], ["created_at", "2017-11-07 18:44:09.599396"], ["updated_at", "2017-11-07 18:44:09.599396"], ["available_inventory", 10]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 200 OK in 5ms (Views: 1.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------
MoviesController::create: test_0002_should not change the database if the title is missing
------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
Started POST "/movies" for 127.0.0.1 at 2017-11-07 10:44:09 -0800
Processing by MoviesController#create as HTML
  Parameters: {"movie"=>{"release_data"=>"1979", "inventory"=>"10"}}
Unpermitted parameter: :release_data
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 400 Bad Request in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
MoviesController::show: test_0001_can get a specific movie
----------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Started GET "/movies/898238949" for 127.0.0.1 at 2017-11-07 10:44:09 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238949"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
MoviesController::show: test_0003_returns the right information
---------------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Started GET "/movies/898238949" for 127.0.0.1 at 2017-11-07 10:44:09 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238949"}
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
MoviesController::show: test_0002_responds correctly when movie is not found
----------------------------------------------------------------------------
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" ORDER BY "movies"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/movies/898238950" for 127.0.0.1 at 2017-11-07 10:44:09 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238950"}
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238950], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-07 19:11:15.909177', '2017-11-07 19:11:15.909177', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2017-11-07 19:11:15.909177', '2017-11-07 19:11:15.909177', 298486374)[0m
  [1m[36mFixture Delete (5.5ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 19:11:15.917631', '2017-11-07 19:11:15.917631', 287487352)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 19:11:15.917631', '2017-11-07 19:11:15.917631', 898238949)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
CustomersController::index: test_0003_should return an Array
------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 11:11:15 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 22ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
CustomersController::index: test_0005_should return customers with exactly the required data
--------------------------------------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 11:11:15 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
CustomersController::index: test_0004_should return all customers
-----------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 11:11:15 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "customers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
CustomersController::index: test_0006_returns an empty array if there are no customer
-------------------------------------------------------------------------------------
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/customers" for 127.0.0.1 at 2017-11-07 11:11:15 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
CustomersController::index: test_0001_is a real working route
-------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 11:11:15 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CustomersController::index: test_0002_should return json
--------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 11:11:15 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
MoviesController::index: test_0004_should return all movies
-----------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 11:11:15 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 28ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
MoviesController::index: test_0006_returns an empty array if there are no movies
--------------------------------------------------------------------------------
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "movies" WHERE "movies"."id" = $1[0m  [["id", 287487352]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "movies" WHERE "movies"."id" = $1[0m  [["id", 898238949]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/movies" for 127.0.0.1 at 2017-11-07 11:11:16 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.8ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
MoviesController::index: test_0001_is a real working route
----------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 11:11:16 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
MoviesController::index: test_0002_should return json
-----------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 11:11:16 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
MoviesController::index: test_0003_should return an Array
---------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 11:11:16 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
MoviesController::index: test_0005_should return movies with exactly the required data
--------------------------------------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 11:11:16 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
MoviesController::create: test_0001_should create a movie
---------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
Started POST "/movies" for 127.0.0.1 at 2017-11-07 11:11:16 -0800
Processing by MoviesController#create as HTML
  Parameters: {"movie"=>{"title"=>"movie title", "release_data"=>"1979", "inventory"=>"10"}}
Unpermitted parameter: :release_data
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "movies" ("title", "inventory", "created_at", "updated_at", "available_inventory") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "movie title"], ["inventory", 10], ["created_at", "2017-11-07 19:11:16.095290"], ["updated_at", "2017-11-07 19:11:16.095290"], ["available_inventory", 10]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------
MoviesController::create: test_0002_should not change the database if the title is missing
------------------------------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
Started POST "/movies" for 127.0.0.1 at 2017-11-07 11:11:16 -0800
Processing by MoviesController#create as HTML
  Parameters: {"movie"=>{"release_data"=>"1979", "inventory"=>"10"}}
Unpermitted parameter: :release_data
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 6ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
MoviesController::show: test_0002_responds correctly when movie is not found
----------------------------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" ORDER BY "movies"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/movies/898238950" for 127.0.0.1 at 2017-11-07 11:11:16 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238950"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238950], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
MoviesController::show: test_0003_returns the right information
---------------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Started GET "/movies/898238949" for 127.0.0.1 at 2017-11-07 11:11:16 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238949"}
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
MoviesController::show: test_0001_can get a specific movie
----------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Started GET "/movies/898238949" for 127.0.0.1 at 2017-11-07 11:11:16 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238949"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
Customer: test_0001_must be valid
---------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
Movie::validations: test_0002_should not be valid without a title
-----------------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
Movie::validations: test_0001_should be valid
---------------------------------------------
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (126.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "VideoStoreAPI_test"[0m
  [1m[35m (326.0ms)[0m  [1m[35mCREATE DATABASE "VideoStoreAPI_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers" CASCADE[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "name" character varying, "registered_at" character varying, "address" character varying, "city" character varying, "state" character varying, "postal_code" character varying, "phone" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "account_credit" float, "movies_checked_out_count" integer DEFAULT 0 NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "movies" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "movies" ("id" bigserial primary key, "title" character varying, "overview" character varying, "release_date" character varying, "inventory" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "available_inventory" integer)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "rentals" CASCADE[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "rentals" ("id" bigserial primary key, "due_date" character varying, "customer_id" integer, "movie_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20171107194817)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20171106202253),
(20171106202612),
(20171106203250),
(20171106220629),
(20171106232634);

[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2017-11-07 21:56:23.580115"], ["updated_at", "2017-11-07 21:56:23.580115"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 21:56:23.838673', '2017-11-07 21:56:23.838673', 848125802)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 21:56:23.838673', '2017-11-07 21:56:23.838673', 976610846)[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 21:56:23.864653', '2017-11-07 21:56:23.864653', 287487352)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 21:56:23.864653', '2017-11-07 21:56:23.864653', 898238949)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 21:59:31.787125', '2017-11-07 21:59:31.787125', 848125802)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 21:59:31.787125', '2017-11-07 21:59:31.787125', 976610846)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 21:59:31.795900', '2017-11-07 21:59:31.795900', 287487352)[0m
  [1m[36mFixture Insert (1.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 21:59:31.795900', '2017-11-07 21:59:31.795900', 898238949)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 21:59:47.953485', '2017-11-07 21:59:47.953485', 848125802)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 21:59:47.953485', '2017-11-07 21:59:47.953485', 976610846)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 21:59:47.962312', '2017-11-07 21:59:47.962312', 287487352)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 21:59:47.962312', '2017-11-07 21:59:47.962312', 898238949)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 22:05:49.294161', '2017-11-07 22:05:49.294161', 848125802)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 22:05:49.294161', '2017-11-07 22:05:49.294161', 976610846)[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 22:05:49.304966', '2017-11-07 22:05:49.304966', 287487352)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 22:05:49.304966', '2017-11-07 22:05:49.304966', 898238949)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-12-12', 0, 0, '2017-11-07 22:05:49.326405', '2017-11-07 22:05:49.326405', 980190962)[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-05-20', 0, 0, '2017-11-07 22:05:49.326405', '2017-11-07 22:05:49.326405', 298486374)[0m
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 22:06:39.537212', '2017-11-07 22:06:39.537212', 848125802)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 22:06:39.537212', '2017-11-07 22:06:39.537212', 976610846)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 22:06:39.547281', '2017-11-07 22:06:39.547281', 287487352)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 22:06:39.547281', '2017-11-07 22:06:39.547281', 898238949)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-12-12', 0, 0, '2017-11-07 22:06:39.563563', '2017-11-07 22:06:39.563563', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-05-20', 0, 0, '2017-11-07 22:06:39.563563', '2017-11-07 22:06:39.563563', 298486374)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 22:07:29.785493', '2017-11-07 22:07:29.785493', 848125802)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 22:07:29.785493', '2017-11-07 22:07:29.785493', 976610846)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.9ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 22:07:29.793829', '2017-11-07 22:07:29.793829', 287487352)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 22:07:29.793829', '2017-11-07 22:07:29.793829', 898238949)[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-12-12', 0, 0, '2017-11-07 22:07:29.800867', '2017-11-07 22:07:29.800867', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-05-20', 0, 0, '2017-11-07 22:07:29.800867', '2017-11-07 22:07:29.800867', 298486374)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:07:29 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12", "customer_id"=>"1", "movie"=>"1"}}
Unpermitted parameter: :rental
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (11.2ms)[0m  [1m[32mINSERT INTO "rentals" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-07 22:07:29.930091"], ["updated_at", "2017-11-07 22:07:29.930091"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 19ms (Views: 0.5ms | ActiveRecord: 11.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 22:08:02.014753', '2017-11-07 22:08:02.014753', 848125802)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 22:08:02.014753', '2017-11-07 22:08:02.014753', 976610846)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 22:08:02.022937', '2017-11-07 22:08:02.022937', 287487352)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 22:08:02.022937', '2017-11-07 22:08:02.022937', 898238949)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-12-12', 0, 0, '2017-11-07 22:08:02.028546', '2017-11-07 22:08:02.028546', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-05-20', 0, 0, '2017-11-07 22:08:02.028546', '2017-11-07 22:08:02.028546', 298486374)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:08:02 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>"#<Rental:0x007fddb5eb0ee8>"}
Unpermitted parameter: :rental
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "rentals" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-07 22:08:02.153198"], ["updated_at", "2017-11-07 22:08:02.153198"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 22:10:46.823082', '2017-11-07 22:10:46.823082', 848125802)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 22:10:46.823082', '2017-11-07 22:10:46.823082', 976610846)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 22:10:46.834324', '2017-11-07 22:10:46.834324', 287487352)[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 22:10:46.834324', '2017-11-07 22:10:46.834324', 898238949)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-12-12', 0, 0, '2017-11-07 22:10:46.848273', '2017-11-07 22:10:46.848273', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-05-20', 0, 0, '2017-11-07 22:10:46.848273', '2017-11-07 22:10:46.848273', 298486374)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:10:46 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>"#<Rental:0x007fddb4efe9a0>"}
Unpermitted parameter: :rental
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "rentals" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-07 22:10:47.005633"], ["updated_at", "2017-11-07 22:10:47.005633"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (5.7ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 22:23:54.993389', '2017-11-07 22:23:54.993389', 848125802)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 22:23:54.993389', '2017-11-07 22:23:54.993389', 976610846)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 22:23:55.010892', '2017-11-07 22:23:55.010892', 287487352)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 22:23:55.010892', '2017-11-07 22:23:55.010892', 898238949)[0m
  [1m[36mFixture Delete (6.3ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-12-12', 0, 0, '2017-11-07 22:23:55.020160', '2017-11-07 22:23:55.020160', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-05-20', 0, 0, '2017-11-07 22:23:55.020160', '2017-11-07 22:23:55.020160', 298486374)[0m
  [1m[35m (17.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:23:55 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>"#<Rental:0x007fddb4e2e520>"}
Unpermitted parameter: :rental
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "rentals" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-07 22:23:55.189626"], ["updated_at", "2017-11-07 22:23:55.189626"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
RentalsController::create: test_0002_should not change the database if given invalid data
-----------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:23:55 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12"}}
Unpermitted parameter: :rental
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "rentals" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-07 22:23:55.199385"], ["updated_at", "2017-11-07 22:23:55.199385"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 22:33:06.872782', '2017-11-07 22:33:06.872782', 848125802)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 22:33:06.872782', '2017-11-07 22:33:06.872782', 976610846)[0m
  [1m[36mFixture Delete (5.6ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 22:33:06.894229', '2017-11-07 22:33:06.894229', 287487352)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 22:33:06.894229', '2017-11-07 22:33:06.894229', 898238949)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-12-12', 0, 0, '2017-11-07 22:33:06.909899', '2017-11-07 22:33:06.909899', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-05-20', 0, 0, '2017-11-07 22:33:06.909899', '2017-11-07 22:33:06.909899', 298486374)[0m
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:33:07 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>"#<Rental:0x007fddb5bb2660>"}
Unpermitted parameter: :rental
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 14ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
RentalsController::create: test_0002_should not change the database if given invalid data
-----------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:33:07 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12"}}
Unpermitted parameter: :rental
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 22:34:46.322582', '2017-11-07 22:34:46.322582', 848125802)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 22:34:46.322582', '2017-11-07 22:34:46.322582', 976610846)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 22:34:46.333201', '2017-11-07 22:34:46.333201', 287487352)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 22:34:46.333201', '2017-11-07 22:34:46.333201', 898238949)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-12-12', 0, 0, '2017-11-07 22:34:46.348702', '2017-11-07 22:34:46.348702', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-05-20', 0, 0, '2017-11-07 22:34:46.348702', '2017-11-07 22:34:46.348702', 298486374)[0m
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
RentalsController::create: test_0002_should not change the database if given invalid data
-----------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:34:46 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12"}}
Unpermitted parameter: :rental
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 9ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:34:46 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>"#<Rental:0x007fddb4309aa0>"}
Unpermitted parameter: :rental
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 22:35:27.276581', '2017-11-07 22:35:27.276581', 848125802)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 22:35:27.276581', '2017-11-07 22:35:27.276581', 976610846)[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 22:35:27.286148', '2017-11-07 22:35:27.286148', 287487352)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 22:35:27.286148', '2017-11-07 22:35:27.286148', 898238949)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-12-12', 0, 0, '2017-11-07 22:35:27.302990', '2017-11-07 22:35:27.302990', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-05-20', 0, 0, '2017-11-07 22:35:27.302990', '2017-11-07 22:35:27.302990', 298486374)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
RentalsController::create: test_0002_should not change the database if given invalid data
-----------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:35:27 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12"}}
Unpermitted parameter: :rental
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 10ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:35:27 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12", "customer_id"=>"1", "movie_id"=>"1"}}
Unpermitted parameter: :rental
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 22:35:45.771895', '2017-11-07 22:35:45.771895', 848125802)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 22:35:45.771895', '2017-11-07 22:35:45.771895', 976610846)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 22:35:45.780839', '2017-11-07 22:35:45.780839', 287487352)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 22:35:45.780839', '2017-11-07 22:35:45.780839', 898238949)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-12-12', 0, 0, '2017-11-07 22:35:45.786877', '2017-11-07 22:35:45.786877', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-05-20', 0, 0, '2017-11-07 22:35:45.786877', '2017-11-07 22:35:45.786877', 298486374)[0m
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
RentalsController::create: test_0002_should not change the database if given invalid data
-----------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:35:45 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12"}}
Unpermitted parameter: :rental
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 9ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 22:36:54.017987', '2017-11-07 22:36:54.017987', 848125802)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 22:36:54.017987', '2017-11-07 22:36:54.017987', 976610846)[0m
  [1m[36mFixture Delete (1.6ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (11.9ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 22:36:54.034840', '2017-11-07 22:36:54.034840', 287487352)[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 22:36:54.034840', '2017-11-07 22:36:54.034840', 898238949)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-12-12', 0, 0, '2017-11-07 22:36:54.069901', '2017-11-07 22:36:54.069901', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-05-20', 0, 0, '2017-11-07 22:36:54.069901', '2017-11-07 22:36:54.069901', 298486374)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:36:54 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12", "customer_id"=>"1", "movie_id"=>"1"}}
Unpermitted parameter: :rental
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 9ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
RentalsController::create: test_0002_should not change the database if given invalid data
-----------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:36:54 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12"}}
Unpermitted parameter: :rental
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 22:39:00.270016', '2017-11-07 22:39:00.270016', 848125802)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 22:39:00.270016', '2017-11-07 22:39:00.270016', 976610846)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 22:39:00.280188', '2017-11-07 22:39:00.280188', 287487352)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 22:39:00.280188', '2017-11-07 22:39:00.280188', 898238949)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-12-12', 0, 0, '2017-11-07 22:39:00.296765', '2017-11-07 22:39:00.296765', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-05-20', 0, 0, '2017-11-07 22:39:00.296765', '2017-11-07 22:39:00.296765', 298486374)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:39:00 -0800
Processing by RentalsController#create as HTML
  Parameters: {"due_date"=>"2016-02-12", "customer_id"=>"1", "movie_id"=>"1"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 17ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
RentalsController::create: test_0002_should not change the database if given invalid data
-----------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:39:00 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12"}}
Unpermitted parameter: :rental
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (5.6ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 22:40:27.998011', '2017-11-07 22:40:27.998011', 848125802)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 22:40:27.998011', '2017-11-07 22:40:27.998011', 976610846)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 22:40:28.013493', '2017-11-07 22:40:28.013493', 287487352)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 22:40:28.013493', '2017-11-07 22:40:28.013493', 898238949)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-12-12', 0, 0, '2017-11-07 22:40:28.028892', '2017-11-07 22:40:28.028892', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-05-20', 0, 0, '2017-11-07 22:40:28.028892', '2017-11-07 22:40:28.028892', 298486374)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:40:28 -0800
Processing by RentalsController#create as HTML
  Parameters: {"due_date"=>"2016-02-12", "customer_id"=>"1", "movie_id"=>"1"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 16ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
RentalsController::create: test_0002_should not change the database if given invalid data
-----------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:40:28 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12", "customer_id"=>"1"}}
Unpermitted parameter: :rental
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 22:40:58.306506', '2017-11-07 22:40:58.306506', 848125802)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 22:40:58.306506', '2017-11-07 22:40:58.306506', 976610846)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 22:40:58.324931', '2017-11-07 22:40:58.324931', 287487352)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 22:40:58.324931', '2017-11-07 22:40:58.324931', 898238949)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-12-12', 0, 0, '2017-11-07 22:40:58.335883', '2017-11-07 22:40:58.335883', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-05-20', 0, 0, '2017-11-07 22:40:58.335883', '2017-11-07 22:40:58.335883', 298486374)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:40:58 -0800
Processing by RentalsController#create as HTML
  Parameters: {"due_date"=>"2016-02-12", "customer_id"=>"1", "movie_id"=>"1"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 17ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
RentalsController::create: test_0002_should not change the database if given invalid data
-----------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:40:58 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12", "customer_id"=>"1"}}
Unpermitted parameter: :rental
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (3.0ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 22:41:09.943294', '2017-11-07 22:41:09.943294', 848125802)[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 22:41:09.943294', '2017-11-07 22:41:09.943294', 976610846)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (1.8ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 22:41:09.961362', '2017-11-07 22:41:09.961362', 287487352)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 22:41:09.961362', '2017-11-07 22:41:09.961362', 898238949)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-12-12', 0, 0, '2017-11-07 22:41:09.974746', '2017-11-07 22:41:09.974746', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-05-20', 0, 0, '2017-11-07 22:41:09.974746', '2017-11-07 22:41:09.974746', 298486374)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:41:10 -0800
Processing by RentalsController#create as HTML
  Parameters: {"due_date"=>"2016-02-12", "customer_id"=>"1", "movie_id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 15ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
RentalsController::create: test_0002_should not change the database if given invalid data
-----------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:41:10 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12"}}
Unpermitted parameter: :rental
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 22:42:42.276157', '2017-11-07 22:42:42.276157', 848125802)[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 22:42:42.276157', '2017-11-07 22:42:42.276157', 976610846)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 22:42:42.293040', '2017-11-07 22:42:42.293040', 287487352)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 22:42:42.293040', '2017-11-07 22:42:42.293040', 898238949)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-12-12', 0, 0, '2017-11-07 22:42:42.304070', '2017-11-07 22:42:42.304070', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-05-20', 0, 0, '2017-11-07 22:42:42.304070', '2017-11-07 22:42:42.304070', 298486374)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:42:42 -0800
Processing by RentalsController#create as HTML
  Parameters: {"due_date"=>"2016-02-12", "customer_id"=>"1", "movie_id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 15ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
RentalsController::create: test_0002_should not change the database if given invalid data
-----------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:42:42 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12"}}
Unpermitted parameter: :rental
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 22:43:16.155878', '2017-11-07 22:43:16.155878', 848125802)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 22:43:16.155878', '2017-11-07 22:43:16.155878', 976610846)[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 22:43:16.172468', '2017-11-07 22:43:16.172468', 287487352)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 22:43:16.172468', '2017-11-07 22:43:16.172468', 898238949)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-12-12', 0, 0, '2017-11-07 22:43:16.186793', '2017-11-07 22:43:16.186793', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-05-20', 0, 0, '2017-11-07 22:43:16.186793', '2017-11-07 22:43:16.186793', 298486374)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[36mRental Load (0.3ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:43:16 -0800
Processing by RentalsController#create as HTML
  Parameters: {"due_date"=>"2016-02-12", "customer_id"=>"1", "movie_id"=>"1"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 23ms (Views: 0.3ms | ActiveRecord: 1.2ms)
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
RentalsController::create: test_0002_should not change the database if given invalid data
-----------------------------------------------------------------------------------------
  [1m[36mRental Load (0.5ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:43:16 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12"}}
Unpermitted parameter: :rental
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 22:43:41.913483', '2017-11-07 22:43:41.913483', 848125802)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 22:43:41.913483', '2017-11-07 22:43:41.913483', 976610846)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 22:43:41.922723', '2017-11-07 22:43:41.922723', 287487352)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 22:43:41.922723', '2017-11-07 22:43:41.922723', 898238949)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-12-12', 0, 0, '2017-11-07 22:43:41.932477', '2017-11-07 22:43:41.932477', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-05-20', 0, 0, '2017-11-07 22:43:41.932477', '2017-11-07 22:43:41.932477', 298486374)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
RentalsController::create: test_0002_should not change the database if given invalid data
-----------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:43:42 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12"}}
Unpermitted parameter: :rental
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 13ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:43:42 -0800
Processing by RentalsController#create as HTML
  Parameters: {"due_date"=>"2016-02-12", "customer_id"=>"1", "movie_id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMovie Load (0.7ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 11ms (Views: 0.2ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (6.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 22:46:51.108908', '2017-11-07 22:46:51.108908', 848125802)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 22:46:51.108908', '2017-11-07 22:46:51.108908', 976610846)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 22:46:51.117513', '2017-11-07 22:46:51.117513', 287487352)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 22:46:51.117513', '2017-11-07 22:46:51.117513', 898238949)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-12-12', 0, 0, '2017-11-07 22:46:51.123197', '2017-11-07 22:46:51.123197', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at", "id") VALUES ('2017-05-20', 0, 0, '2017-11-07 22:46:51.123197', '2017-11-07 22:46:51.123197', 298486374)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
RentalsController::create: test_0002_should not change the database if given invalid data
-----------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:46:51 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12"}}
Unpermitted parameter: :rental
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 9ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:46:51 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12", "customer_id"=>"1", "movie_id"=>"1"}}
Unpermitted parameter: :rental
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (5.9ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 22:49:50.708355', '2017-11-07 22:49:50.708355', 848125802)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 22:49:50.708355', '2017-11-07 22:49:50.708355', 976610846)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 22:49:50.726832', '2017-11-07 22:49:50.726832', 287487352)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 22:49:50.726832', '2017-11-07 22:49:50.726832', 898238949)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-12-12', '2017-11-07 22:49:50.735719', '2017-11-07 22:49:50.735719', 980190962, 287487352, 976610846)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-05-20', '2017-11-07 22:49:50.735719', '2017-11-07 22:49:50.735719', 298486374, 898238949, 848125802)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:49:50 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12", "customer_id"=>"1", "movie_id"=>"1"}}
Unpermitted parameter: :rental
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 9ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
RentalsController::create: test_0002_should not change the database if given invalid data
-----------------------------------------------------------------------------------------
  [1m[36mRental Load (0.3ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:49:50 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12"}}
Unpermitted parameter: :rental
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 22:50:06.527072', '2017-11-07 22:50:06.527072', 848125802)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 22:50:06.527072', '2017-11-07 22:50:06.527072', 976610846)[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 22:50:06.543816', '2017-11-07 22:50:06.543816', 287487352)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 22:50:06.543816', '2017-11-07 22:50:06.543816', 898238949)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.9ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-12-12', '2017-11-07 22:50:06.565390', '2017-11-07 22:50:06.565390', 980190962, 287487352, 976610846)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-05-20', '2017-11-07 22:50:06.565390', '2017-11-07 22:50:06.565390', 298486374, 898238949, 848125802)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:50:06 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>"#<Rental:0x007fddb4ff3888>"}
Unpermitted parameter: :rental
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 10ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
RentalsController::create: test_0002_should not change the database if given invalid data
-----------------------------------------------------------------------------------------
  [1m[36mRental Load (0.1ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:50:06 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12"}}
Unpermitted parameter: :rental
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (6.6ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 22:50:41.541597', '2017-11-07 22:50:41.541597', 848125802)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 22:50:41.541597', '2017-11-07 22:50:41.541597', 976610846)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 22:50:41.564197', '2017-11-07 22:50:41.564197', 287487352)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 22:50:41.564197', '2017-11-07 22:50:41.564197', 898238949)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-12-12', '2017-11-07 22:50:41.572616', '2017-11-07 22:50:41.572616', 980190962, 287487352, 976610846)[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-05-20', '2017-11-07 22:50:41.572616', '2017-11-07 22:50:41.572616', 298486374, 898238949, 848125802)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:50:41 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12", "customer_id"=>"1", "movie_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 20ms (Views: 0.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
RentalsController::create: test_0002_should not change the database if given invalid data
-----------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals" for 127.0.0.1 at 2017-11-07 14:50:41 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (7.0ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 22:56:55.985157', '2017-11-07 22:56:55.985157', 848125802)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 22:56:55.985157', '2017-11-07 22:56:55.985157', 976610846)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 22:56:56.005945', '2017-11-07 22:56:56.005945', 287487352)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 22:56:56.005945', '2017-11-07 22:56:56.005945', 898238949)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-12-12', '2017-11-07 22:56:56.016011', '2017-11-07 22:56:56.016011', 980190962, 287487352, 976610846)[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-05-20', '2017-11-07 22:56:56.016011', '2017-11-07 22:56:56.016011', 298486374, 898238949, 848125802)[0m
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
RentalsController::update: test_0001_should update rental when given valid data
-------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/rentals/980190962" for 127.0.0.1 at 2017-11-07 14:56:56 -0800
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 22:57:21.058426', '2017-11-07 22:57:21.058426', 848125802)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 22:57:21.058426', '2017-11-07 22:57:21.058426', 976610846)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 22:57:21.073050', '2017-11-07 22:57:21.073050', 287487352)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 22:57:21.073050', '2017-11-07 22:57:21.073050', 898238949)[0m
  [1m[36mFixture Delete (3.5ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-12-12', '2017-11-07 22:57:21.082134', '2017-11-07 22:57:21.082134', 980190962, 287487352, 976610846)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-05-20', '2017-11-07 22:57:21.082134', '2017-11-07 22:57:21.082134', 298486374, 898238949, 848125802)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
RentalsController::update: test_0001_should update rental when given valid data
-------------------------------------------------------------------------------
  [1m[36mRental Load (0.5ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/rentals/980190962" for 127.0.0.1 at 2017-11-07 14:57:21 -0800
Processing by RentalsController#update as HTML
  Parameters: {"id"=>"980190962"}
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 23:02:58.588123', '2017-11-07 23:02:58.588123', 848125802)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 23:02:58.588123', '2017-11-07 23:02:58.588123', 976610846)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.9ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 23:02:58.610111', '2017-11-07 23:02:58.610111', 287487352)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 23:02:58.610111', '2017-11-07 23:02:58.610111', 898238949)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-12-12', '2017-11-07 23:02:58.619042', '2017-11-07 23:02:58.619042', 980190962, 287487352, 976610846)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-05-20', '2017-11-07 23:02:58.619042', '2017-11-07 23:02:58.619042', 298486374, 898238949, 848125802)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
RentalsController::update: test_0001_should respond with success when given valid data
--------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/rentals/980190962" for 127.0.0.1 at 2017-11-07 15:02:58 -0800
Processing by RentalsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRental Load (0.4ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."customer_id" IS NULL AND "rentals"."movie_id" IS NULL ORDER BY "rentals"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 23:04:36.894597', '2017-11-07 23:04:36.894597', 848125802)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 23:04:36.894597', '2017-11-07 23:04:36.894597', 976610846)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 23:04:36.902689', '2017-11-07 23:04:36.902689', 287487352)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 23:04:36.902689', '2017-11-07 23:04:36.902689', 898238949)[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-12-12', '2017-11-07 23:04:36.908424', '2017-11-07 23:04:36.908424', 980190962, 287487352, 976610846)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-05-20', '2017-11-07 23:04:36.908424', '2017-11-07 23:04:36.908424', 298486374, 898238949, 848125802)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
RentalsController::update: test_0001_should respond with success when given valid data
--------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/rentals/980190962" for 127.0.0.1 at 2017-11-07 15:04:37 -0800
Processing by RentalsController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRental Load (0.4ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."customer_id" IS NULL AND "rentals"."movie_id" IS NULL ORDER BY "rentals"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 23:21:05.646325', '2017-11-07 23:21:05.646325', 848125802)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 23:21:05.646325', '2017-11-07 23:21:05.646325', 976610846)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (5.6ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 23:21:05.655011', '2017-11-07 23:21:05.655011', 287487352)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 23:21:05.655011', '2017-11-07 23:21:05.655011', 898238949)[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-12-12', '2017-11-07 23:21:05.673261', '2017-11-07 23:21:05.673261', 980190962, 287487352, 976610846)[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-05-20', '2017-11-07 23:21:05.673261', '2017-11-07 23:21:05.673261', 298486374, 898238949, 848125802)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
RentalsController::create: test_0002_should not change the database if given invalid data
-----------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals/check-out" for 127.0.0.1 at 2017-11-07 15:21:05 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12"}}
Unpermitted parameter: :rental
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 15ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals/check-out" for 127.0.0.1 at 2017-11-07 15:21:05 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12", "customer_id"=>"1", "movie_id"=>"1"}}
Unpermitted parameter: :rental
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
RentalsController::update: test_0001_should respond with success when given valid data
--------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 976610846], ["LIMIT", 1]]
Started PATCH "/rentals/check-in.980190962" for 127.0.0.1 at 2017-11-07 15:21:05 -0800
Processing by RentalsController#update as 
  [1m[36mRental Load (0.4ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."customer_id" IS NULL AND "rentals"."movie_id" IS NULL ORDER BY "rentals"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
RentalsController::update: test_0002_should change due_date to nil when given valid data
----------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 23:25:45.461524', '2017-11-07 23:25:45.461524', 848125802)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 23:25:45.461524', '2017-11-07 23:25:45.461524', 976610846)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 23:25:45.469836', '2017-11-07 23:25:45.469836', 287487352)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 23:25:45.469836', '2017-11-07 23:25:45.469836', 898238949)[0m
  [1m[36mFixture Delete (6.2ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-12-12', '2017-11-07 23:25:45.476482', '2017-11-07 23:25:45.476482', 980190962, 287487352, 976610846)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-05-20', '2017-11-07 23:25:45.476482', '2017-11-07 23:25:45.476482', 298486374, 898238949, 848125802)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
RentalsController::update: test_0001_should respond with success when given valid data
--------------------------------------------------------------------------------------
  [1m[36mRental Load (1.3ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/rentals/check-in" for 127.0.0.1 at 2017-11-07 15:25:45 -0800
Processing by RentalsController#update as HTML
  Parameters: {"rental"=>{"customer_id"=>"976610846", "rental_movie_id"=>"287487352"}}
  [1m[36mRental Load (0.4ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."customer_id" IS NULL AND "rentals"."movie_id" IS NULL ORDER BY "rentals"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 23:28:05.043267', '2017-11-07 23:28:05.043267', 848125802)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 23:28:05.043267', '2017-11-07 23:28:05.043267', 976610846)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 23:28:05.051994', '2017-11-07 23:28:05.051994', 287487352)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 23:28:05.051994', '2017-11-07 23:28:05.051994', 898238949)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-12-12', '2017-11-07 23:28:05.058164', '2017-11-07 23:28:05.058164', 980190962, 287487352, 976610846)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-05-20', '2017-11-07 23:28:05.058164', '2017-11-07 23:28:05.058164', 298486374, 898238949, 848125802)[0m
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
RentalsController::update: test_0001_should respond with success when given valid data
--------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/rentals/check-in" for 127.0.0.1 at 2017-11-07 15:28:05 -0800
Processing by RentalsController#update as HTML
  Parameters: {"rental"=>{"customer_id"=>"976610846", "rental_movie_id"=>"287487352"}}
  [1m[36mRental Load (0.5ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."customer_id" IS NULL AND "rentals"."movie_id" IS NULL ORDER BY "rentals"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 23:29:50.112498', '2017-11-07 23:29:50.112498', 848125802)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 23:29:50.112498', '2017-11-07 23:29:50.112498', 976610846)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (4.9ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 23:29:50.121020', '2017-11-07 23:29:50.121020', 287487352)[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 23:29:50.121020', '2017-11-07 23:29:50.121020', 898238949)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-12-12', '2017-11-07 23:29:50.136743', '2017-11-07 23:29:50.136743', 980190962, 287487352, 976610846)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-05-20', '2017-11-07 23:29:50.136743', '2017-11-07 23:29:50.136743', 298486374, 898238949, 848125802)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
RentalsController::update: test_0001_should respond with success when given valid data
--------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/rentals/check-in" for 127.0.0.1 at 2017-11-07 15:29:50 -0800
Processing by RentalsController#update as HTML
  Parameters: {"rental"=>{"customer_id"=>"976610846", "rental_movie_id"=>"287487352"}}
  [1m[36mRental Load (0.5ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."customer_id" IS NULL AND "rentals"."movie_id" IS NULL ORDER BY "rentals"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (1.7ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 23:30:44.158065', '2017-11-07 23:30:44.158065', 848125802)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 23:30:44.158065', '2017-11-07 23:30:44.158065', 976610846)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 23:30:44.168071', '2017-11-07 23:30:44.168071', 287487352)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 23:30:44.168071', '2017-11-07 23:30:44.168071', 898238949)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-12-12', '2017-11-07 23:30:44.174042', '2017-11-07 23:30:44.174042', 980190962, 287487352, 976610846)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-05-20', '2017-11-07 23:30:44.174042', '2017-11-07 23:30:44.174042', 298486374, 898238949, 848125802)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
RentalsController::update: test_0001_should respond with success when given valid data
--------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/rentals/check-in" for 127.0.0.1 at 2017-11-07 15:30:44 -0800
Processing by RentalsController#update as HTML
  Parameters: {"rental"=>{"customer_id"=>"976610846", "rental_movie_id"=>"287487352"}}
  [1m[36mRental Load (0.5ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."customer_id" = $1 AND "rentals"."movie_id" IS NULL ORDER BY "rentals"."id" ASC LIMIT $2[0m  [["customer_id", 976610846], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 23:31:05.903429', '2017-11-07 23:31:05.903429', 848125802)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 23:31:05.903429', '2017-11-07 23:31:05.903429', 976610846)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 23:31:05.911626', '2017-11-07 23:31:05.911626', 287487352)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 23:31:05.911626', '2017-11-07 23:31:05.911626', 898238949)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-12-12', '2017-11-07 23:31:05.917920', '2017-11-07 23:31:05.917920', 980190962, 287487352, 976610846)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-05-20', '2017-11-07 23:31:05.917920', '2017-11-07 23:31:05.917920', 298486374, 898238949, 848125802)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
RentalsController::update: test_0001_should respond with success when given valid data
--------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/rentals/check-in" for 127.0.0.1 at 2017-11-07 15:31:06 -0800
Processing by RentalsController#update as HTML
  Parameters: {"rental"=>{"customer_id"=>"976610846", "rental_movie_id"=>"287487352"}}
  [1m[36mRental Load (0.5ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."customer_id" = $1 AND "rentals"."movie_id" IS NULL ORDER BY "rentals"."id" ASC LIMIT $2[0m  [["customer_id", 976610846], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 23:31:44.620636', '2017-11-07 23:31:44.620636', 848125802)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 23:31:44.620636', '2017-11-07 23:31:44.620636', 976610846)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 23:31:44.628481', '2017-11-07 23:31:44.628481', 287487352)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 23:31:44.628481', '2017-11-07 23:31:44.628481', 898238949)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-12-12', '2017-11-07 23:31:44.634316', '2017-11-07 23:31:44.634316', 980190962, 287487352, 976610846)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-05-20', '2017-11-07 23:31:44.634316', '2017-11-07 23:31:44.634316', 298486374, 898238949, 848125802)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
RentalsController::update: test_0001_should respond with success when given valid data
--------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/rentals/check-in" for 127.0.0.1 at 2017-11-07 15:31:44 -0800
Processing by RentalsController#update as HTML
  Parameters: {"rental"=>{"customer_id"=>"976610846", "rental_movie_id"=>"287487352"}}
  [1m[36mRental Load (0.4ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."customer_id" = $1 AND "rentals"."movie_id" IS NULL ORDER BY "rentals"."id" ASC LIMIT $2[0m  [["customer_id", 976610846], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 23:32:14.009033', '2017-11-07 23:32:14.009033', 848125802)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 23:32:14.009033', '2017-11-07 23:32:14.009033', 976610846)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 23:32:14.017364', '2017-11-07 23:32:14.017364', 287487352)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 23:32:14.017364', '2017-11-07 23:32:14.017364', 898238949)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-12-12', '2017-11-07 23:32:14.023336', '2017-11-07 23:32:14.023336', 980190962, 287487352, 976610846)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-05-20', '2017-11-07 23:32:14.023336', '2017-11-07 23:32:14.023336', 298486374, 898238949, 848125802)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
RentalsController::update: test_0001_should respond with success when given valid data
--------------------------------------------------------------------------------------
  [1m[36mRental Load (0.3ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/rentals/check-in" for 127.0.0.1 at 2017-11-07 15:32:14 -0800
Processing by RentalsController#update as HTML
  Parameters: {"rental"=>{"customer_id"=>"976610846", "movie_id"=>"287487352"}}
  [1m[36mRental Load (0.5ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."customer_id" = $1 AND "rentals"."movie_id" = $2 ORDER BY "rentals"."id" ASC LIMIT $3[0m  [["customer_id", 976610846], ["movie_id", 287487352], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (5.6ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 23:43:01.244783', '2017-11-07 23:43:01.244783', 848125802)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 23:43:01.244783', '2017-11-07 23:43:01.244783', 976610846)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 23:43:01.260068', '2017-11-07 23:43:01.260068', 287487352)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 23:43:01.260068', '2017-11-07 23:43:01.260068', 898238949)[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-12-12', '2017-11-07 23:43:01.273890', '2017-11-07 23:43:01.273890', 980190962, 287487352, 976610846)[0m
  [1m[36mFixture Insert (1.3ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-05-20', '2017-11-07 23:43:01.273890', '2017-11-07 23:43:01.273890', 298486374, 898238949, 848125802)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT  "customers".* FROM "customers" ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" ORDER BY "movies"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started POST "/rentals/check-out" for 127.0.0.1 at 2017-11-07 15:43:01 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12", "customer_id"=>"848125802", "movie_id"=>"287487352"}}
Unpermitted parameter: :rental
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 16ms (Views: 0.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 23:44:40.401302', '2017-11-07 23:44:40.401302', 848125802)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 23:44:40.401302', '2017-11-07 23:44:40.401302', 976610846)[0m
  [1m[36mFixture Delete (1.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (3.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 23:44:40.413441', '2017-11-07 23:44:40.413441', 287487352)[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 23:44:40.413441', '2017-11-07 23:44:40.413441', 898238949)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-12-12', '2017-11-07 23:44:40.438293', '2017-11-07 23:44:40.438293', 980190962, 287487352, 976610846)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-05-20', '2017-11-07 23:44:40.438293', '2017-11-07 23:44:40.438293', 298486374, 898238949, 848125802)[0m
  [1m[35m (6.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT  "customers".* FROM "customers" ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" ORDER BY "movies"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started POST "/rentals/check-out" for 127.0.0.1 at 2017-11-07 15:44:40 -0800
Processing by RentalsController#create as HTML
  Parameters: {"due_date"=>"2016-02-12", "customer_id"=>"848125802", "movie_id"=>"287487352"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 287487352], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 848125802], ["LIMIT", 1]]
  [1m[35mSQL (5.6ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["due_date", "2016-02-12"], ["customer_id", 848125802], ["movie_id", 287487352], ["created_at", "2017-11-07 23:44:40.675833"], ["updated_at", "2017-11-07 23:44:40.675833"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 23ms (Views: 0.4ms | ActiveRecord: 6.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (5.9ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 23:46:43.394557', '2017-11-07 23:46:43.394557', 848125802)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 23:46:43.394557', '2017-11-07 23:46:43.394557', 976610846)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 23:46:43.419081', '2017-11-07 23:46:43.419081', 287487352)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 23:46:43.419081', '2017-11-07 23:46:43.419081', 898238949)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-12-12', '2017-11-07 23:46:43.426360', '2017-11-07 23:46:43.426360', 980190962, 287487352, 976610846)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-05-20', '2017-11-07 23:46:43.426360', '2017-11-07 23:46:43.426360', 298486374, 898238949, 848125802)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
RentalsController::update: test_0001_should respond with success when given valid data
--------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/rentals/check-in" for 127.0.0.1 at 2017-11-07 15:46:43 -0800
Processing by RentalsController#update as HTML
  Parameters: {"rental"=>{"customer_id"=>"976610846", "movie_id"=>"287487352"}}
Unpermitted parameter: :rental
  [1m[36mRental Load (0.4ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" ORDER BY "rentals"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 23:54:59.238923', '2017-11-07 23:54:59.238923', 848125802)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 23:54:59.238923', '2017-11-07 23:54:59.238923', 976610846)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 23:54:59.255772', '2017-11-07 23:54:59.255772', 287487352)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 23:54:59.255772', '2017-11-07 23:54:59.255772', 898238949)[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-12-12', '2017-11-07 23:54:59.261980', '2017-11-07 23:54:59.261980', 980190962, 287487352, 976610846)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-05-20', '2017-11-07 23:54:59.261980', '2017-11-07 23:54:59.261980', 298486374, 898238949, 848125802)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
Movie::validations: test_0001_should be valid
---------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
Movie::validations: test_0002_should not be valid without a title
-----------------------------------------------------------------
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
MoviesController::index: test_0004_should return all movies
-----------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 15:54:59 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
MoviesController::index: test_0005_should return movies with exactly the required data
--------------------------------------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 15:54:59 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
MoviesController::index: test_0006_returns an empty array if there are no movies
--------------------------------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "movies" WHERE "movies"."id" = $1[0m  [["id", 287487352]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "movies" WHERE "movies"."id" = $1[0m  [["id", 898238949]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/movies" for 127.0.0.1 at 2017-11-07 15:54:59 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
MoviesController::index: test_0001_is a real working route
----------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 15:54:59 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
MoviesController::index: test_0003_should return an Array
---------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 15:54:59 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
MoviesController::index: test_0002_should return json
-----------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 15:54:59 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
MoviesController::show: test_0002_responds correctly when movie is not found
----------------------------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" ORDER BY "movies"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/movies/898238950" for 127.0.0.1 at 2017-11-07 15:54:59 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238950"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238950], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
MoviesController::show: test_0003_returns the right information
---------------------------------------------------------------
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Started GET "/movies/898238949" for 127.0.0.1 at 2017-11-07 15:54:59 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238949"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
MoviesController::show: test_0001_can get a specific movie
----------------------------------------------------------
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Started GET "/movies/898238949" for 127.0.0.1 at 2017-11-07 15:54:59 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238949"}
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT  "customers".* FROM "customers" ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" ORDER BY "movies"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started POST "/rentals/check-out" for 127.0.0.1 at 2017-11-07 15:54:59 -0800
Processing by RentalsController#create as HTML
  Parameters: {"due_date"=>"2016-02-12", "customer_id"=>"848125802", "movie_id"=>"287487352"}
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 287487352], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 848125802], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["due_date", "2016-02-12"], ["customer_id", 848125802], ["movie_id", 287487352], ["created_at", "2017-11-07 23:54:59.428463"], ["updated_at", "2017-11-07 23:54:59.428463"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 21ms (Views: 0.1ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
RentalsController::create: test_0002_should not change the database if given invalid data
-----------------------------------------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals/check-out" for 127.0.0.1 at 2017-11-07 15:54:59 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12"}}
Unpermitted parameter: :rental
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
Customer: test_0001_must be valid
---------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
RentalsController::update: test_0002_should change due_date to nil when given valid data
----------------------------------------------------------------------------------------
  [1m[36mRental Load (0.4ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/rentals/check-in" for 127.0.0.1 at 2017-11-07 15:54:59 -0800
Processing by RentalsController#update as HTML
  Parameters: {"rental"=>{"customer_id"=>"976610846", "movie_id"=>"287487352"}}
Unpermitted parameter: :rental
  [1m[36mRental Load (0.4ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" ORDER BY "rentals"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
RentalsController::update: test_0001_should respond with success when given valid data
--------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/rentals/check-in" for 127.0.0.1 at 2017-11-07 15:54:59 -0800
Processing by RentalsController#update as HTML
  Parameters: {"rental"=>{"customer_id"=>"976610846", "movie_id"=>"287487352"}}
Unpermitted parameter: :rental
  [1m[36mRental Load (0.3ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" ORDER BY "rentals"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------
Rental: test_0001_must be valid
-------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
CustomersController::index: test_0001_is a real working route
-------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 15:54:59 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CustomersController::index: test_0002_should return json
--------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 15:54:59 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
CustomersController::index: test_0006_returns an empty array if there are no customer
-------------------------------------------------------------------------------------
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 848125802]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 976610846]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/customers" for 127.0.0.1 at 2017-11-07 15:54:59 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
CustomersController::index: test_0004_should return all customers
-----------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 15:54:59 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "customers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
CustomersController::index: test_0003_should return an Array
------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 15:54:59 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
CustomersController::index: test_0005_should return customers with exactly the required data
--------------------------------------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 15:54:59 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------
MoviesController::create: test_0002_should not change the database if the title is missing
------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
Started POST "/movies" for 127.0.0.1 at 2017-11-07 15:54:59 -0800
Processing by MoviesController#create as HTML
  Parameters: {"movie"=>{"release_data"=>"1979", "inventory"=>"10"}}
Unpermitted parameter: :release_data
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
MoviesController::create: test_0001_should create a movie
---------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
Started POST "/movies" for 127.0.0.1 at 2017-11-07 15:54:59 -0800
Processing by MoviesController#create as HTML
  Parameters: {"movie"=>{"title"=>"movie title", "release_data"=>"1979", "inventory"=>"10"}}
Unpermitted parameter: :release_data
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("title", "inventory", "created_at", "updated_at", "available_inventory") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "movie title"], ["inventory", 10], ["created_at", "2017-11-07 23:54:59.516665"], ["updated_at", "2017-11-07 23:54:59.516665"], ["available_inventory", 10]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 23:57:54.941519', '2017-11-07 23:57:54.941519', 848125802)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 23:57:54.941519', '2017-11-07 23:57:54.941519', 976610846)[0m
  [1m[36mFixture Delete (11.5ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 23:57:54.949964', '2017-11-07 23:57:54.949964', 287487352)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 23:57:54.949964', '2017-11-07 23:57:54.949964', 898238949)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-12-12', '2017-11-07 23:57:54.973446', '2017-11-07 23:57:54.973446', 980190962, 287487352, 976610846)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-05-20', '2017-11-07 23:57:54.973446', '2017-11-07 23:57:54.973446', 298486374, 898238949, 848125802)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RentalsController::create: test_0001_should create a new rental when given valid data
-------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT  "customers".* FROM "customers" ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" ORDER BY "movies"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started POST "/rentals/check-out" for 127.0.0.1 at 2017-11-07 15:57:55 -0800
Processing by RentalsController#create as HTML
  Parameters: {"due_date"=>"2016-02-12", "customer_id"=>"848125802", "movie_id"=>"287487352"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 287487352], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 848125802], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "customer_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["due_date", "2016-02-12"], ["customer_id", 848125802], ["movie_id", 287487352], ["created_at", "2017-11-07 23:57:55.036412"], ["updated_at", "2017-11-07 23:57:55.036412"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
RentalsController::create: test_0002_should not change the database if given invalid data
-----------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
Started POST "/rentals/check-out" for 127.0.0.1 at 2017-11-07 15:57:55 -0800
Processing by RentalsController#create as HTML
  Parameters: {"rental"=>{"due_date"=>"2016-02-12"}}
Unpermitted parameter: :rental
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "rentals"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
Movie::validations: test_0001_should be valid
---------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
Movie::validations: test_0002_should not be valid without a title
-----------------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
RentalsController::update: test_0001_should respond with success when given valid data
--------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/rentals/check-in" for 127.0.0.1 at 2017-11-07 15:57:55 -0800
Processing by RentalsController#update as HTML
  Parameters: {"rental"=>{"customer_id"=>"976610846", "movie_id"=>"287487352"}}
Unpermitted parameter: :rental
  [1m[36mRental Load (0.3ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" ORDER BY "rentals"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
RentalsController::update: test_0002_should change due_date to nil when given valid data
----------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/rentals/check-in" for 127.0.0.1 at 2017-11-07 15:57:55 -0800
Processing by RentalsController#update as HTML
  Parameters: {"rental"=>{"customer_id"=>"976610846", "movie_id"=>"287487352"}}
Unpermitted parameter: :rental
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" ORDER BY "rentals"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
Customer: test_0001_must be valid
---------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
MoviesController::index: test_0002_should return json
-----------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 15:57:55 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
MoviesController::index: test_0003_should return an Array
---------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 15:57:55 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
MoviesController::index: test_0006_returns an empty array if there are no movies
--------------------------------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "movies" WHERE "movies"."id" = $1[0m  [["id", 287487352]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "movies" WHERE "movies"."id" = $1[0m  [["id", 898238949]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/movies" for 127.0.0.1 at 2017-11-07 15:57:55 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
MoviesController::index: test_0001_is a real working route
----------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 15:57:55 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
MoviesController::index: test_0004_should return all movies
-----------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 15:57:55 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
MoviesController::index: test_0005_should return movies with exactly the required data
--------------------------------------------------------------------------------------
Started GET "/movies" for 127.0.0.1 at 2017-11-07 15:57:55 -0800
Processing by MoviesController#index as HTML
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
CustomersController::index: test_0001_is a real working route
-------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 15:57:55 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
CustomersController::index: test_0006_returns an empty array if there are no customer
-------------------------------------------------------------------------------------
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 848125802]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[31mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 976610846]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/customers" for 127.0.0.1 at 2017-11-07 15:57:55 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
CustomersController::index: test_0003_should return an Array
------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 15:57:55 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
CustomersController::index: test_0002_should return json
--------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 15:57:55 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
CustomersController::index: test_0004_should return all customers
-----------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 15:57:55 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "customers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
CustomersController::index: test_0005_should return customers with exactly the required data
--------------------------------------------------------------------------------------------
Started GET "/customers" for 127.0.0.1 at 2017-11-07 15:57:55 -0800
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
MoviesController::show: test_0001_can get a specific movie
----------------------------------------------------------
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Started GET "/movies/898238949" for 127.0.0.1 at 2017-11-07 15:57:55 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238949"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
MoviesController::show: test_0002_responds correctly when movie is not found
----------------------------------------------------------------------------
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" ORDER BY "movies"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/movies/898238950" for 127.0.0.1 at 2017-11-07 15:57:55 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238950"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238950], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
MoviesController::show: test_0003_returns the right information
---------------------------------------------------------------
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Started GET "/movies/898238949" for 127.0.0.1 at 2017-11-07 15:57:55 -0800
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"898238949"}
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT  "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 898238949], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
MoviesController::create: test_0001_should create a movie
---------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
Started POST "/movies" for 127.0.0.1 at 2017-11-07 15:57:55 -0800
Processing by MoviesController#create as HTML
  Parameters: {"movie"=>{"title"=>"movie title", "release_data"=>"1979", "inventory"=>"10"}}
Unpermitted parameter: :release_data
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "movies" ("title", "inventory", "created_at", "updated_at", "available_inventory") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "movie title"], ["inventory", 10], ["created_at", "2017-11-07 23:57:55.155565"], ["updated_at", "2017-11-07 23:57:55.155565"], ["available_inventory", 10]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------
MoviesController::create: test_0002_should not change the database if the title is missing
------------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
Started POST "/movies" for 127.0.0.1 at 2017-11-07 15:57:55 -0800
Processing by MoviesController#create as HTML
  Parameters: {"movie"=>{"release_data"=>"1979", "inventory"=>"10"}}
Unpermitted parameter: :release_data
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 23:59:08.559070', '2017-11-07 23:59:08.559070', 848125802)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 23:59:08.559070', '2017-11-07 23:59:08.559070', 976610846)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 23:59:08.567790', '2017-11-07 23:59:08.567790', 287487352)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 23:59:08.567790', '2017-11-07 23:59:08.567790', 898238949)[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-12-12', '2017-11-07 23:59:08.573425', '2017-11-07 23:59:08.573425', 980190962, 287487352, 976610846)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-05-20', '2017-11-07 23:59:08.573425', '2017-11-07 23:59:08.573425', 298486374, 898238949, 848125802)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
RentalsController::update: test_0002_should change due_date to nil when given valid data
----------------------------------------------------------------------------------------
  [1m[36mRental Load (0.2ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "movies" DISABLE TRIGGER ALL;ALTER TABLE "rentals" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "customers"[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('eva', 'eee', '23 Eva', 'Seattle', 'WA', '12345', '6173482743', '2017-11-07 23:59:34.367482', '2017-11-07 23:59:34.367482', 848125802)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("name", "registered_at", "address", "city", "state", "postal_code", "phone", "created_at", "updated_at", "id") VALUES ('anders', 'aaa', '14 anders', 'Seattle', 'WA', '12593', '7189274828', '2017-11-07 23:59:34.367482', '2017-11-07 23:59:34.367482', 976610846)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Psych', 'When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fineâ€¦ until Marion decides to take a shower', '1960-06-16', 8, 8, '2017-11-07 23:59:34.381870', '2017-11-07 23:59:34.381870', 287487352)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("title", "overview", "release_date", "inventory", "available_inventory", "created_at", "updated_at", "id") VALUES ('Jaws', 'SHARKS', '1975-06-19', 6, 6, '2017-11-07 23:59:34.381870', '2017-11-07 23:59:34.381870', 898238949)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "rentals"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-12-12', '2017-11-07 23:59:34.399870', '2017-11-07 23:59:34.399870', 980190962, 287487352, 976610846)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "rentals" ("due_date", "created_at", "updated_at", "id", "movie_id", "customer_id") VALUES ('2017-05-20', '2017-11-07 23:59:34.399870', '2017-11-07 23:59:34.399870', 298486374, 898238949, 848125802)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "movies" ENABLE TRIGGER ALL;ALTER TABLE "rentals" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
RentalsController::update: test_0002_should change due_date to nil when given valid data
----------------------------------------------------------------------------------------
  [1m[36mRental Load (0.3ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" WHERE "rentals"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/rentals/check-in" for 127.0.0.1 at 2017-11-07 15:59:34 -0800
Processing by RentalsController#update as HTML
  Parameters: {"rental"=>{"customer_id"=>"976610846", "movie_id"=>"287487352"}}
Unpermitted parameter: :rental
  [1m[36mRental Load (0.8ms)[0m  [1m[34mSELECT  "rentals".* FROM "rentals" ORDER BY "rentals"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
